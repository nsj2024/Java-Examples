package com.iiht.rest1;

import java.util.Calendar;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;


// Handler - endpoints - API

@RestController
@RequestMapping("/rest/api2.0")
public class Greet2 {
	
	@GetMapping
	@RequestMapping("/welcome")
	public ResponseEntity<String> greet()
	{
		ResponseEntity<String> response = new ResponseEntity<>("First Api !" , HttpStatus.OK);
		return response;
	}

	
	  @GetMapping
	  
	  @RequestMapping("/time") 
	  public ResponseEntity<String> getTime()
	  {
		  
		 // ResponseEntity<String> response = new ResponseEntity<>(); using static methods
		  return ResponseEntity.status(HttpStatus.OK).body(Calendar.getInstance().getTime() + "");
	  }
	  
	  
	  
	  @GetMapping
	  
	  @RequestMapping("/{gender}") 
	  public String genderMessage1(@PathVariable String gender) 
	  { 
		  if(gender.equals("Female")) 
			  return "Welcome Miss";
		  if(gender.equals("Male")) 
			  return "Welcome MR"; 
		  else 
			  return "Welcome";
	}
	  
	  @GetMapping
	  
	  @RequestMapping("/namegender/{name}/{gender}")
	  public String genderMessage2(@PathVariable String name , @PathVariable String gender) 
	  {
		  if(gender.equals("Female")) 
			  return "Welcome Miss." + name ;
		  if(gender.equals("Male")) 
			  return "Welcome MR." + name; else return "Welcome" + name; 
	  }
	  
	  @RequestMapping("/namegender/")
	  public ResponseEntity<String> genderMessage3(@RequestBody Member member) 
	  {
		  if(member.getGender().equals("Female"))
			  return ResponseEntity.ok("Welcome miss." + member.getName());
		  else if(member.getGender().equals("Male"))
			  return ResponseEntity.ok("Welcome mr." + member.getName());
		  else
			  return ResponseEntity.ok("Welcome" + member.getName());
	  }
	 
}
